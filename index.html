<html>
    <head>
        <meta charset="utf-8">
        <title>SushiSwap</title>
        <!-- [if lt IE 9]><script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.min.js" type="text/javascript"></script><![endif] -->
        <script type="text/javascript">!function(o,c){var n=c.documentElement,t=" w-mod-";n.className+=t+"js",("ontouchstart"in o||o.DocumentTouch&&c instanceof DocumentTouch)&&(n.className+=t+"touch")}(window,document);</script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script src="https://unpkg.com/web3@latest/dist/web3.min.js"></script>
        <script src="sushiswap.js"></script>      
      </head>
<body>
    <script>
        async function go() {
            // Connect to wallet
            web3 = new Web3(window.ethereum);
            let addresses = await window.ethereum.enable();

            // Create SushiSwapJs
            let sushiswap = new SushiSwap(web3);

            sushiswap.auto_update(async function () {
                // Retieve all info for the first wallet address
                await sushiswap.getInfo(addresses[0]);
                await sushiswap.getMakerInfo();

                // Display all info nicely in html
                document.getElementById("base").textContent
                    = JSON.stringify(sushiswap.base, null, 2);

                document.getElementById("pools").textContent
                    = JSON.stringify(sushiswap.pools, null, 2);

                document.getElementById("maker").textContent
                    = JSON.stringify(sushiswap.makerPairs, null, 2);
            }, true);
        }
    </script>

    <h1>SushiSwapJs</h1>
    <pre id="base"></pre>
    <pre id="pools"></pre>
    <pre id="maker"></pre>
    <button onclick="go()">Go!</button>
</body>

</html>